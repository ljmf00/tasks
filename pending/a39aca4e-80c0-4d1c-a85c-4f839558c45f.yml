summary: Compare hash algorithm performance
notes: |
  # Implementations

  ## murmur2

  ```
  ===> multitime results
  1: -q ./benchmarks/runners/parser/parser
              Mean        Std.Dev.    Min         Median      Max
  real        1.525       0.038       1.492       1.515       1.703
  user        2.126       0.029       2.076       2.127       2.217
  sys         0.208       0.023       0.153       0.207       0.251

  ==1073225== I   refs:      5,669,445,644
  ==1073225== I1  misses:       13,962,636
  ==1073225== LLi misses:           71,127
  ==1073225== I1  miss rate:          0.25%
  ==1073225== LLi miss rate:          0.00%
  ==1073225==
  ==1073225== D   refs:      2,578,724,585  (1,634,779,038 rd + 943,945,547 wr)
  ==1073225== D1  misses:       39,376,724  (   28,315,800 rd +  11,060,924 wr)
  ==1073225== LLd misses:       20,395,590  (   13,209,858 rd +   7,185,732 wr)
  ==1073225== D1  miss rate:           1.5% (          1.7%   +         1.2%  )
  ==1073225== LLd miss rate:           0.8% (          0.8%   +         0.8%  )
  ==1073225==
  ==1073225== LL refs:          53,339,360  (   42,278,436 rd +  11,060,924 wr)
  ==1073225== LL misses:        20,466,717  (   13,280,985 rd +   7,185,732 wr)
  ==1073225== LL miss rate:            0.2% (          0.2%   +         0.8%  )
  ==1073225==
  ==1073225== Branches:        786,141,856  (  675,848,901 cond + 110,292,955 ind)
  ==1073225== Mispredicts:      70,327,702  (   54,610,936 cond +  15,716,766 ind)
  ==1073225== Mispred rate:            8.9% (          8.1%     +        14.3%   )
  ```

  ## djb2

  ```
  ===> multitime results
  1: -q ./benchmarks/runners/parser/parser
              Mean        Std.Dev.    Min         Median      Max
  real        1.508       0.013       1.489       1.506       1.549
  user        2.117       0.028       2.061       2.116       2.166
  sys         0.211       0.021       0.160       0.213       0.250

  ==1076584== I   refs:      5,727,182,711
  ==1076584== I1  misses:       16,056,626
  ==1076584== LLi misses:           70,247
  ==1076584== I1  miss rate:          0.28%
  ==1076584== LLi miss rate:          0.00%
  ==1076584==
  ==1076584== D   refs:      2,589,332,039  (1,645,362,117 rd + 943,969,922 wr)
  ==1076584== D1  misses:       39,525,607  (   28,500,189 rd +  11,025,418 wr)
  ==1076584== LLd misses:       20,384,935  (   13,199,368 rd +   7,185,567 wr)
  ==1076584== D1  miss rate:           1.5% (          1.7%   +         1.2%  )
  ==1076584== LLd miss rate:           0.8% (          0.8%   +         0.8%  )
  ==1076584==
  ==1076584== LL refs:          55,582,233  (   44,556,815 rd +  11,025,418 wr)
  ==1076584== LL misses:        20,455,182  (   13,269,615 rd +   7,185,567 wr)
  ==1076584== LL miss rate:            0.2% (          0.2%   +         0.8%  )
  ==1076584==
  ==1076584== Branches:        791,178,329  (  680,858,677 cond + 110,319,652 ind)
  ==1076584== Mispredicts:      71,869,019  (   54,362,619 cond +  17,506,400 ind)
  ==1076584== Mispred rate:            9.1% (          8.0%     +        15.9%   )
  ```

  ## custom + length

  ```
  ===> multitime results
  1: -q ./benchmarks/runners/parser/parser
              Mean        Std.Dev.    Min         Median      Max
  real        1.583       0.142       1.494       1.536       2.248
  user        2.147       0.037       2.091       2.141       2.257
  sys         0.219       0.037       0.170       0.210       0.366

  ==1081515== I   refs:      5,699,486,260
  ==1081515== I1  misses:       14,785,201
  ==1081515== LLi misses:           70,770
  ==1081515== I1  miss rate:          0.26%
  ==1081515== LLi miss rate:          0.00%
  ==1081515==
  ==1081515== D   refs:      2,588,544,200  (1,644,584,438 rd + 943,959,762 wr)
  ==1081515== D1  misses:       40,596,180  (   29,464,019 rd +  11,132,161 wr)
  ==1081515== LLd misses:       20,389,441  (   13,203,172 rd +   7,186,269 wr)
  ==1081515== D1  miss rate:           1.6% (          1.8%   +         1.2%  )
  ==1081515== LLd miss rate:           0.8% (          0.8%   +         0.8%  )
  ==1081515==
  ==1081515== LL refs:          55,381,381  (   44,249,220 rd +  11,132,161 wr)
  ==1081515== LL misses:        20,460,211  (   13,273,942 rd +   7,186,269 wr)
  ==1081515== LL miss rate:            0.2% (          0.2%   +         0.8%  )
  ==1081515==
  ==1081515== Branches:        790,470,723  (  680,169,636 cond + 110,301,087 ind)
  ==1081515== Mispredicts:      77,649,650  (   54,892,725 cond +  22,756,925 ind)
  ==1081515== Mispred rate:            9.8% (          8.1%     +        20.6%   )
  ```

  ## custom

  ```
  ===> multitime results
  1: -q ./benchmarks/runners/parser/parser
              Mean        Std.Dev.    Min         Median      Max
  real        1.542       0.045       1.504       1.529       1.728
  user        2.136       0.041       2.059       2.140       2.244
  sys         0.211       0.026       0.172       0.209       0.256

  ==1087593== I   refs:      5,703,589,653
  ==1087593== I1  misses:       14,157,192
  ==1087593== LLi misses:           71,248
  ==1087593== I1  miss rate:          0.25%
  ==1087593== LLi miss rate:          0.00%
  ==1087593==
  ==1087593== D   refs:      2,589,205,952  (1,645,233,282 rd + 943,972,670 wr)
  ==1087593== D1  misses:       39,371,108  (   28,346,588 rd +  11,024,520 wr)
  ==1087593== LLd misses:       20,391,149  (   13,205,994 rd +   7,185,155 wr)
  ==1087593== D1  miss rate:           1.5% (          1.7%   +         1.2%  )
  ==1087593== LLd miss rate:           0.8% (          0.8%   +         0.8%  )
  ==1087593==
  ==1087593== LL refs:          53,528,300  (   42,503,780 rd +  11,024,520 wr)
  ==1087593== LL misses:        20,462,397  (   13,277,242 rd +   7,185,155 wr)
  ==1087593== LL miss rate:            0.2% (          0.2%   +         0.8%  )
  ==1087593==
  ==1087593== Branches:        791,122,504  (  680,819,694 cond + 110,302,810 ind)
  ==1087593== Mispredicts:      77,690,277  (   54,614,733 cond +  23,075,544 ind)
  ==1087593== Mispred rate:            9.8% (          8.0%     +        20.9%   )
  ```

  ## xxhash32

  ```
  ===> multitime results
  1: -q ./benchmarks/runners/parser/parser
              Mean        Std.Dev.    Min         Median      Max
  real        1.589       0.058       1.518       1.575       1.787
  user        2.142       0.040       2.065       2.134       2.213
  sys         0.219       0.021       0.183       0.215       0.263

  ==1109295== I   refs:      5,732,849,986
  ==1109295== I1  misses:       16,034,719
  ==1109295== LLi misses:           70,657
  ==1109295== I1  miss rate:          0.28%
  ==1109295== LLi miss rate:          0.00%
  ==1109295==
  ==1109295== D   refs:      2,587,324,198  (1,639,127,484 rd + 948,196,714 wr)
  ==1109295== D1  misses:       39,850,117  (   28,755,402 rd +  11,094,715 wr)
  ==1109295== LLd misses:       20,416,172  (   13,231,061 rd +   7,185,111 wr)
  ==1109295== D1  miss rate:           1.5% (          1.8%   +         1.2%  )
  ==1109295== LLd miss rate:           0.8% (          0.8%   +         0.8%  )
  ==1109295==
  ==1109295== LL refs:          55,884,836  (   44,790,121 rd +  11,094,715 wr)
  ==1109295== LL misses:        20,486,829  (   13,301,718 rd +   7,185,111 wr)
  ==1109295== LL miss rate:            0.2% (          0.2%   +         0.8%  )
  ==1109295==
  ==1109295== Branches:        794,420,971  (  684,121,123 cond + 110,299,848 ind)
  ==1109295== Mispredicts:      71,549,544  (   53,894,423 cond +  17,655,121 ind)
  ==1109295== Mispred rate:            9.0% (          7.9%     +        16.0%   )
  ```
tags:
- dmd
- lexer
project: contrib
priority: P2
delegatedto: ""
subtasks: []
dependencies: []
created: 2022-03-20T02:03:47.291274327Z
resolved: 0001-01-01T00:00:00Z
due: 0001-01-01T00:00:00Z
